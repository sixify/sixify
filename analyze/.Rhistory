binned_price <- stats.bin(data_table$date, data_table$price, N = number_of_bins, breaks = NULL)
binned_amount <- stats.bin(data_table$date, data_table$amount, N = number_of_bins, breaks = NULL)
binned_tid <- stats.bin(data_table$date, data_table$tid, N = number_of_bins, breaks = NULL)
binned_data_mean <- data.frame(binned_price$stats[ c("mean"),], binned_amount$stats[ c("mean"),], binned_tid$stats[ c("mean"),])
binned_data_sd <- data.frame(binned_price$stats[ c("Std.Dev."),], binned_amount$stats[ c("Std.Dev."),], binned_tid$stats[ c("Std.Dev."),])
binned_data_mean <- rename(binned_data_mean, c("binned_price.stats.c..mean....."="price", "binned_amount.stats.c..mean....."="amount", "binned_tid.stats.c..mean....."="tid"))
binned_data_sd <- rename(binned_data_sd, c("binned_price.stats.c..Std.Dev......"="price", "binned_amount.stats.c..Std.Dev......"="amount", "binned_tid.stats.c..Std.Dev......"="tid"))
# save csv
write.table(binned_data_mean, file = paste(save_file_mean, "csv", sep = ".", collapse = NULL), append=F, row.names=F, col.names=F,  sep=",")
write.table(binned_data_sd, file = paste(save_file_sd, "csv", sep = ".", collapse = NULL), append=F, row.names=F, col.names=F,  sep=",")
# save json
sink(paste(save_file_mean, "txt", sep = ".", collapse = NULL))
cat(toJSON(binned_data_mean))
sink()
sink(paste(save_file_sd, "txt", sep = ".", collapse = NULL))
cat(toJSON(binned_data_sd))
sink()
time_bin <- 5*60 # 5 min
max(data_table$date)
source('~/.active-rstudio-document')
library(gdata)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
file.path
file.path(getwd())
file.path(paste(getwd(),"../")
asdasd
file.path(paste(getwd(),"../")
adsas
file.path(..)
file.path("..")
file.path(".")
file.path("/")
file.path("asda","asdas")
file.path("..","asdas")
inputPath = file.path(getwd(),"..","visualize")
source('~/.active-rstudio-document')
View(myfile)
source('~/GitHub/sixify/analyze/processBTCStockInput2.R')
currentFile = read.csv(inputPath)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
grep
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
fileList(1)
fileList[1)
fileList[1]
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
file.path(getwd(),"input_feeds",fileList[1])
fileList
source('~/GitHub/sixify/analyze/wrapper.R')
new_timestamps <- seq(min(data_table$date),max(data_table$date),time_bin)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
v
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
install.packages("geometric")
source('~/.active-rstudio-document')
install.packages("psych")
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
print(A)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
print(A)
source('~/.active-rstudio-document')
A[2]
A[1]
rapply(A, c)
c(A)
rapply(A, int)
unlist(A)
unlist(A,use,names)
unlist(A,use.names=FALSE)
source('~/.active-rstudio-document')
A
unlist(A)
dim
dim(A)
A
A
script.dir <- dirname(sys.frame(1)$ofile)
script.dir <- dirname(sys.frame()$ofile)
script.dir <- dirname(sys.frame(0)$ofile)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
print(fileList[1])
print(fileList)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
print(fileList)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(data_table)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(aggrTable)
View(aggrTable)
source('~/.active-rstudio-document')
View(aggr)
View(aggr)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
fileList[i]
fileList[1]
source('~/.active-rstudio-document')
fileList[1]
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
aggrTable = data.frame(rownames = "price" )
source('~/.active-rstudio-document')
View(aggrTable)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(aggrTable)
View(aggrTable)
source('~/.active-rstudio-document')
View(data_table)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(aggrTable)
View(aggrTable)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(aggrTable)
View(aggrTable)
source('~/.active-rstudio-document')
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
data.frame(row.names = {"price","amount","date"})
data.frame(row.names = {"price","amount","date"})
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
View(aggrTable)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
View(aggrTable)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(aggrTable)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(aggrTable)
View(aggrTable)
source('~/.active-rstudio-document')
View(aggrTable)
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(A)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(aggrTable)
source('~/.active-rstudio-document')
View(data_table)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(data_table)
View(data_table)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
tmp<- rbind(aggrTable$amount, data_table$amount)
aggrTable$amount<-tmp
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(aggrTable)
View(aggrTable)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
install.packages("data.table")
source('~/.active-rstudio-document')
install.packages("bit64")
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
#
source('~/.active-rstudio-document')
View(aggrTable)
View(aggrTable)
source('~/.active-rstudio-document')
View(aggrTable)
View(aggrTable)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(aggrTable)
View(aggrTable)
View(aggrTable)
View(aggrTable)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
fileList
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
data_table <- read.table(file.path(read_folder,"input_feeds","exchanges",fileList[i]), sep=",", header=T)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
aggrTable = date.frame(data_table$amount , data_table$price , data_table$date)
source('~/.active-rstudio-document')
View(aggrTable)
View(aggrTable)
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
View(aggrTable)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(aggrTable)
View(aggrTable)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(aggrTable)
View(aggrTable)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(aggrTable)
View(aggrTable)
else
{
tmp  = data.frame(amount = data_table$amount , price = data_table$price ,  date = data_table$date)
aggrTable <- merge(aggrTable, tmp,all=TRUE)
}
rm(data_table)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(A)
View(A)
source('~/.active-rstudio-document')
View(aggrTable)
View(aggrTable)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
data_table3 <- read.table(file.path(read_folder,"input_feeds","exchanges",fileList[3]), sep=",", header=T)
S = merge(aggrTable,data_table3)
S = merge(aggrTable,data_table3,all=TRUE)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
print(fileList)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(binned_data_geomean)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
cut(calcTable$date, breaks = bin_boundaries)
A = cut(calcTable$date, breaks = bin_boundaries)
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
cut(aggrTable$date, breaks = bin_boundaries)
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/.active-rstudio-document')
cut(calcTable$date, breaks = bin_boundaries)
source('~/.active-rstudio-document')
cut(calcTable$date, breaks = bin_boundaries)
calcTable$price
A = tapply(calcTable$price, cut(calcTable$date, breaks = bin_boundaries), geometric.mean)
source('~/.active-rstudio-document')
A = tapply(calcTable$price, cut(calcTable$date, breaks = bin_boundaries), geometric.mean)
library(gdata)
library(ggplot2)
library(fields)
library(rjson)
library(plyr)
library(psych)
read_folder <- "C://Users//Vardan//Documents//GitHub//sixify//analyze//"
#read_file <- "D:\\github\\demo\\input_feeds\\sixify_bitstamp_btcusd.csv"
save_file_geomean <- file.path(read_folder,"..","visualize","data","sixify_bitstamp_btcusd")#bitstamp btce cexio
inputPath = file.path(read_folder,"input_feeds","exchanges")
fileList = list.files(path = inputPath,pattern = ".csv$")
#
# # aggrTable =  data.frame(amount=NULL)
# for (i in range(1,4))
# {
#
data_table1 = read.table(file.path(read_folder,"input_feeds","exchanges",fileList[1]), sep=",", header=T)
data_table2 = read.table(file.path(read_folder,"input_feeds","exchanges",fileList[2]), sep=",", header=T)
data_table3 = read.table(file.path(read_folder,"input_feeds","exchanges",fileList[3]), sep=",", header=T)
data_table4 = read.table(file.path(read_folder,"input_feeds","exchanges",fileList[4]), sep=",", header=T)
aggrTable = merge(merge(merge(data_table1,data_table2,all = TRUE), data_table3,all = TRUE),data_table4, all = TRUE)
calcTable = data_table1
#
# # if (i == 1)
# # {
#   aggrTable = data.frame(amount = data_table$amount , price = data_table$price ,  date = data_table$date)
# # }
# # else
# # {
# tmp  = data.frame(amount = data_table$amount , price = data_table$price ,  date = data_table$date)
#  = merge(aggrTable, tmp,all = TRUE)
#
# # }
# #
# # rm(data_table)
#
# }
#
#
#
#
#
#
# # convert timestamp
#
#
#
time_bin <- 5*60 # 5 min
#new_timestamps <- seq(min(data_table$date),max(data_table$date)-time_bin,time_bin)
bin_boundaries <- seq(min(aggrTable$date)+time_bin,max(aggrTable$date)-time_bin,time_bin)
A = tapply(calcTable$price, cut(calcTable$date, breaks = bin_boundaries), geometric.mean)
source('~/.active-rstudio-document')
View(data_table3)
source('~/.active-rstudio-document')
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(aggrTable)
View(aggrTable)
source('~/.active-rstudio-document')
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/GitHub/sixify/analyze/exchangeRateBTC.R')
source('~/.active-rstudio-document')
